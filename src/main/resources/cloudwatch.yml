management:
  endpoints:
    web:
      exposure:
        include: health, metrics
  endpoint:
    health:
      show-details: never

  metrics:
    # 모든 메트릭에 공통 태그를 적용
    common-tags:
      application: nuntteo-api
    distribution:
      # 'http.server.requests' 메트릭에 대해 p50, p95 값을 계산하여 'phi' 태그를 생성
      percentiles[http.server.requests]: 0.5, 0.95

  cloudwatch:
    metrics:
      # 메트릭을 전송할 CloudWatch 네임스페이스
      namespace: Nuntteo/Dev
      # 데이터 전송 주기
      step: 5m

# (선택) 디버깅을 위한 로깅 설정
logging:
  level:
    io.micrometer.cloudwatch2: DEBUG
    software.amazon.awssdk: DEBUG
